@model SecurityProj2.Models.PasswordKey

@{
    ViewBag.Title = "Create";
}

<h2>Create</h2>

@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)
    <br />
    <fieldset>
        <legend>PasswordKey</legend>
        <div style="float:left; padding-right:10px">
            <div class="editor-label">
                @Html.LabelFor(model => model.HandleName)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.HandleName)
                @Html.ValidationMessageFor(model => model.HandleName)
            </div>
        
        <p>
            <input type="submit" value="Create" />
        </p>
        </div>
        <div style="float:right">
        <h3>Do you want the password to contain?</h3>
        <br />
            <div style="float:left">
                @Html.LabelFor(model => model.includeUpper, "Uppercase")
            </div>
            <div style="float:right">
                @Html.EditorFor(model => model.includeUpper)
            </div>
            <br />
            <br />

            <div style="float:left">
                @Html.LabelFor(model => model.includeNumbers, "Numbers")
            </div>
            <div style="float:right">
                @Html.EditorFor(model => model.includeNumbers)
            </div>
             <br />
             <br />

            <div style="float:left">
                @Html.LabelFor(model => model.includeSpecial, "Special Characters")
            </div>
            <div style="float:right">
                @Html.EditorFor(model => model.includeSpecial)
            </div>
             <br />
             <br />

            <div style="float:left">
                @Html.LabelFor(model => model.passwordLength, "Length")
            </div>
            <div style="float:right">
                @Html.TextBoxFor(model => model.passwordLength, new { @class = "textboxInput" })
                <br />
                <br />
                <br />
                @Html.ValidationMessageFor(model => model.passwordLength)
            </div>

        </div>
        
        
    </fieldset>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
<script src="../../Scripts/jquery-1.7.1.js" type="text/javascript"></script>
<script type="text/javascript">
    var idleTime = 0;
    $(document).ready(function () {
        //Increment the idle time counter every minute.
        var idleInterval = setInterval("timerIncrement()", 60000); // 1 minute

        //Zero the idle timer on mouse movement.
        $(this).mousemove(function (e) {
            idleTime = 0;
        });
        $(this).keypress(function (e) {
            idleTime = 0;
        });
    })
    function timerIncrement() {
        idleTime = idleTime + 1;
        console.log(idleTime);
        if (idleTime >= 5) { // 5 minutes
            $("#logoutForm").submit();
            alert("Session Timeout");
        }
    }
</script>